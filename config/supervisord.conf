[supervisord]
nodaemon=true
logfile=/app/logs/supervisor.log
pidfile=/app/logs/supervisor.pid
childlogdir=/app/logs/

[program:backend]
command=uvicorn main:app --host 0.0.0.0 --port 8001 --workers 4
directory=/app/backend
user=app
autostart=true
autorestart=true
stderr_logfile=/app/logs/backend.err.log
stdout_logfile=/app/logs/backend.out.log
environment=PYTHONPATH=/app

[program:nginx]
command=nginx -g "daemon off;"
user=root
autostart=true
autorestart=true
stderr_logfile=/app/logs/nginx.err.log
stdout_logfile=/app/logs/nginx.out.log

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_rpcinterface

[inet_http_server]
port=127.0.0.1:9001
username=admin
password=exoplanet2024

[supervisorctl]
serverurl=http://127.0.0.1:9001
